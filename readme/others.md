### 其它

##### 缺失的 Model

由于 Model 的具体含义有分歧，容易被乱用，实际中大部分时候被用作 ORM 和 DTO，并非真正意义上的"对象"（起的是数据结构作用），因而我们并没有引入 Model 的概念，而是引入 DDD 设计中的**仓储**概念。

##### 缺失的 Logic

Logic 一词同样含义模糊（一切皆逻辑），而且实际使用中过于扁平化，导致代码过于臃肿。取而代之，我们引入更加具有含义、更具纵深、更加灵活的 DDD 中的**Domain**概念（业务领域），让开发者根据实际情况自己组织代码层次。

##### 为何 Http/Controllers 下面有 V1 这样的版本划分？

Http/Controller 是系统最主要的对外 API，API 一旦定义则很难做不兼容修改（比如改个字段名，删掉某字段，改变字段含义等），因而可以采用版本控制，对外提供不同版本的 API(这也是为何 Restful API 的 uri 中包含版本的原因)。
不同于 API，Domain 不需要版本概念，因为 Web 产品一般只会演化而不会分版本（可能会划分新模块）。当然，会有定制化需求，可以采用其他方案处理。

##### 框架

一般不要用 `easyswoole stop force`，从其实现来看，会造成僵尸进程。

##### 工厂

- MySQL、Redis、Email、Cache、Logger 等基础设施都有相应工厂来创建，工厂依赖于 EasySwoole（主要依赖于配置），并且将具体的基础设施扩展与 EasySwoole 框架隔离（即扩展本身不依赖于框架）。
- 工厂返回的基础设施尽量符合 PSR 规范（如 Cache、Logger 等）。
- 虽然提供了工厂，但实际使用中不建议直接用工厂获取对象（工厂并不提供单例模式），项目中请用 IoC 注入（本项目用的是 PHP-DI，建议通过构造函数注入这些基础设施）。

##### 生产环境

每次发布生产后需执行：`composer dump-autoload -o` 优化自动加载速度。



##### readme 文案书写规范

参见[中文文案排版指北](https://github.com/sparanoid/chinese-copywriting-guidelines)。



另外，easyswoole 目前更新较快，建议大家可去看下里面提供的其他有用的功能。



[返回](../README.md)